---
tags:
  - Git
  - ЯндексПрактикум
---
## Команды в консоли

### Навигация

>[!note] 
`pwd` (от англ. **_p_**_rint_ **_w_**_orking_ **_d_**_irectory_, «показать рабочую папку») — покажи, в какой я папке;
`ls` (от англ. *list directory contents*, «отобразить содержимое директории») — покажи файлы и папки в текущей папке;
`ls -a` — покажи также скрытые файлы и папки, названия которых начинаются с символа `.`
`ls -f` — Показать файлы в данной папке, включая и скрытые
`cd first-project` (от англ. **_c_**_hange_ **_d_**_irectory_, «сменить директорию») — перейди в папку `first-project`;
`cd` `first-project/html` — перейди в папку `html`, которая находится в папке `first-project`;
`cd ..` — перейди на уровень выше, в родительскую папку;
`cd ../..` — Выйти на 2 уровня вверх
`cd ~` — перейди в домашнюю директорию (`/Users/Username`);
`cd /` — перейди в корневую директорию.
`cd !$` — Перейти в только что созданную папку

### Работа с файлами и папками

>[!note] #### **Создание**
`touch index.html` (англ. _touch,_ «коснуться») — создай файл `index.html` в текущей папке;
`touch` `index.html style.css script.js` — если нужно создать сразу несколько файлов, можно напечатать их имена в одну строку через пробел;
`touch app/{css/main.css,js/main.js,index.html} `— Создать сразу несколько файлов, никаких лишних пробелов быть не должно
`mkdir` `second-project` (от англ. **_m_**_a_**_k_**_e_ **_dir_**_ectory_, «создать директорию») — создай папку с именем `second-project` в текущей папке.
`mkdir -p {app1,app2}` — Создать сразу несколько папок
`mkdir -p app/{css,js}`— Создать сразу несколько вложенных папок

>[!note] #### **Копирование и перемещение**
`cp` `file.txt ~/my-dir` (от англ. **_c_**_o_**_p_**_y_, «копировать») — скопируй файл в другое место;
`mv` `file.txt ~/my-dir` (от англ. **_m_**_o_**_v_**_e_, «переместить») — перемести файл или папку в другое место.

>[!note] #### **Чтение**
`cat` `file.txt` (от англ. _con_**_cat_**_enate and print_, «объединить и распечатать») — распечатай содержимое текстового файла `file.txt`.

>[!note] #### **Удаление**
`rm` `about.html` (от англ. **_r_**_e_**_m_**_ove_, «удалить») — удали файл `about.html`;
`rmdir` `images` (от англ. **_r_**_e_**_m_**_ove_ **_dir_**_ectory_, «удалить директорию») — удали папку `images`;
`rm -r` `second-project` (от англ. **_r_**_e_**_m_**_ove,_ «удалить» + **_r_**_ecursive_, «рекурсивный») — удали папку `second-project` и всё, что она содержит.

>[!note] #### Запись в файл
`echo "Строка файла" >> file.txt`
Оператор `>>` - это возможность командной строки (Bash). Его можно использовать не только с `echo`, но и с любой другой командой, которая выводит что-то на экран.
Одинарный символ > тоже перенаправит вывод команды в файл, но перед этим сотрёт содержимое файла, то есть перезапишет файл целиком.

### Графический интерфейс vs командная строка

У программ есть привычный **графический интерфейс** (англ. _**G**raphical **U**ser **I**nterface_, или _GUI_). Это окна, значки, кнопки, выпадающее меню с настройками и прочие элементы.

**Командная строка** (англ. _**C**ommand-**l**ine **I**nterface_, или _CLI_) — тоже интерфейс, только текстовый. Пользователь вводит в неё команды. Она принимает их от пользователя и выполняет. Эта строка — обычная программа на вашем компьютере.

Командную строку часто называют **терминалом** или **консолью**. Эти термины пришли из тех времён, когда компьютеры выглядели совсем не так, как сейчас. У них не было привычного интерфейса. Вводить данные или вызывать программы можно было только через специальные устройства: терминалы и консоли. С их помощью происходило взаимодействие человека с компьютером.

### Командная строка и Git

Git — это программа, которая в том числе может работать из командной строки. Любой графический интерфейс для Git всего лишь преобразует клики пользователя в вызовы программы.

### Первые шаги

Если вы пользователь macOS или Linux, запустите программу **Terminal**. Её можно найти через окно поиска операционной системы. А можно использовать комбинацию горячих клавиш:

- для Linux — `Ctrl+Alt+T`;
- для macOS — `Cmd+Space`, затем ввести `terminal`.

Если вы пользователь Windows, запустите программу Git Bash — как её установить, мы рассказали в прошлом уроке.

В открывшемся окне вы увидите:

- имя вашего компьютера;
- имя, под которым вы авторизовались в компьютере;
- символ доллара (`$`) — он означает, что программа ждёт ваших команд.

В зависимости от операционной системы порядок компонентов и внешний вид строки могут немного различаться.

Так это будет выглядеть в Windows и Linux.


```
userName@ComputerName ~ 
```

А так — в macOS.

```
computerName:~ userName$ 
```

### Как не потеряться

В графическом интерфейсе всегда ясно, где именно вы находитесь в файловой системе. Если перед вами рабочий стол, значит, вы в папке «Рабочий стол». Если открыта папка «Документы» — вы в ней.

В командной строке вы тоже всегда находитесь в какой-то папке — просто этого не видно. Узнать, где вы сейчас, поможет команда `pwd` (от англ. _**p**rint **w**orking **d**irectory_ — «показать рабочую папку»). Она выводит путь к текущей директории.

Введите `pwd` в командную строку и нажмите клавишу `Enter` для выполнения команды.

```
$ pwd
/c/Users/%USERNAME%
/Users/%USERNAME% 
```

Командная строка выведет путь к папке, в которой вы сейчас находитесь. Вместо `%USERNAME%` будет ваше имя пользователя. Это путь к **домашней директории** (англ. _home directory_) — каталогу с файлами пользователя. Обычно здесь хранится такая информация, как загрузки, медиа, скриншоты и так далее. Когда вы открываете командную строку, вы оказываетесь именно в домашней директории.

>[!info] **Файловые системы — это непросто**
Операционные системы Windows, Linux и macOS отличаются друг от друга. В том числе в том, как работают их файловые системы.
Например, для Windows путь начинается с буквы диска C — `/c/` или `c:/`. В Linux нет букв дисков, а домашняя директория находится в `/home` вместо `/Users`. В macOS есть папка `/Users`, но нет букв дисков.

С помощью терминала вы всегда можете перейти к домашней директории. Для этого нужно ввести команду `cd` (от англ. _**c**hange **d**irectory_ — «сменить директорию») и символ `~` — обозначение домашней директории. Не забудьте про `Enter` для выполнения.

Скопировать кодBASH

```
$ cd ~ 
```

Домашняя директория может быть разной для разных пользователей одного и того же компьютера.

# Навигация в командной строке

### Вывести содержимое директории — `ls`

Файловая система компьютера состоит из папок, или директорий. В них могут находиться другие папки и файлы.

Когда вы открываете папку через графический интерфейс операционной системы, вы сразу видите её содержимое. В случае с консолью для отображения файлов и папок используют команду — `ls` (от англ. _**l**i**s**t directory contents_ — «отобразить содержимое директории»).

![[list directory contents.png]]

### Сменить директорию — `cd`

Следующая важная команда — `cd` (от англ. _**c**hange **d**irectory_ — «сменить директорию»). Вы познакомились с ней в прошлом уроке. Она меняет текущую рабочую директорию на ту, которая указана в качестве параметра: `cd имя_папки`.

Рассмотрим пример. Структура директорий может выглядеть так.

```
/projects
    /github
                /open-source-project
    /practicum
                /my-project 
```

Допустим, вы находитесь в директории `/projects`. Если ввести команду `cd github`, она перенесёт вас в директорию `/projects/github`.

```
$ pwd
/projects # сейчас мы здесь

$ cd github # переходим в папку github

$ pwd
/projects/github # теперь мы здесь!  
```

Обратите внимание: если в названии папки есть пробелы, при вводе нужно использовать кавычки.

```
$ cd "Фотографии с дня рождения" 
```

Чтобы вернуться в **родительскую директорию** — то есть на уровень выше, — вместо названия папки нужно написать две точки: `..`

```
$ pwd
/projects/github # сейчас мы здесь

$ cd .. # переходим на уровень выше

$ pwd
/projects # мы вернулись!  
```

Есть ещё одна команда с точкой. Чтобы обратиться к текущей директории, можно использовать `.`. Но это нужно довольно редко — например, для запуска скриптов и программ, которые принимают папку в качестве параметра.

```
$ pwd
/projects/github # сейчас мы здесь

$ cd . # переходим в текущую директорию

$ pwd
/projects/github # ничего не поменялось  
```

Также `cd` позволяет перемещаться сразу через несколько директорий. Для этого нужно разделить их названия знаком `/`.

```
$ pwd
/projects # сейчас мы здесь

$ cd github/open-source-project # переходим через несколько директорий

$ pwd
/projects/github/open-source-project # переместились сразу в папку open-source-project внутри github 
```

### Дополнительные возможности `ls`

У многих команд консоли есть дополнительные опции. Например, если вы вызовете `ls`, то увидите список обычных файлов в директории. Но можно вызвать `ls` с флагом `-a` и вывести расширенный список. В нём отобразятся все скрытые файлы, которые начинаются с символа `.` (например, файлы конфигурации). В том числе два особых файла `.` и `..`, которые обозначают текущую и родительскую директории.

```
$ ls # вывели список файлов
file.txt
photo.png

$ ls -a # вывели список, в котором отображаются скрытые файлы ., .. и .git
.
..
.git
file.txt
photo.png 
```

А ещё, как и другие команды, `ls` может работать с символом домашней директории (`~`) и предыдущей директории (`..`). Например, `ls ~` выведет содержимое домашней директории вне зависимости от того, что показывает `pwd`. А `ls ..` покажет содержимое родительской директории.

# Операции с папками и файлами: создание, копирование, перемещение

Конечная цель перемещения по папкам — получить доступ к данным в них.
### Создание файлов и директорий — `touch`, `mkdir`

Чтобы создать файл, нужно ввести в консоль команду `touch` (англ. «коснуться») с именем файла в качестве параметра: `touch %ИМЯ_ФАЙЛА%`.

```
$ touch my-new-file.txt # создали файл my-new-file.txt 
```

Хорошей практикой при создании файла считается указывать его расширение (в примере — `.txt`). Это позволит операционной системе выбрать подходящую программу, чтобы открыть файл. А ещё поможет другому человеку понять, какое содержимое находится внутри.

Для создания директорий через терминал используют другую команду — `mkdir` (от англ. _**m**a**k**e **dir**ectory_ — «создать директорию»).

```
$ mkdir new-dir # создали директорию new-dir 
```

Можно создать целую структуру директорий одной командой с помощью флага `-p`.

```
$ mkdir -p dir1/dir-inside/dir-deeper-inside
# создали папку dir-deeper-inside в папке dir-inside, которая находится в папке dir1 
```

По умолчанию `touch` и `mkdir` создают файлы и папки в текущей рабочей директории. Например, если вы находитесь в директории `abs`, команда `touch file.txt` создаст файл именно там: `abs/file.txt`.

Также можно использовать обе команды вместе с символом домашней директории (`~`) или родительской директории (`..`). Например, команда `mkdir ~/my-git-projects` создаст папку `my-git-projects` внутри домашней директории.

А команда `touch ../../file.txt` создаст файл `file.txt` на две папки выше по иерархии. Допустим, если вы находитесь в директории `projects/git/hello`, команда `touch ../../file.txt` создаст файл по такому пути: `projects/file.txt`.

### Копирование файлов — `cp`

Для копирования файлов через терминал существует команда `cp` (от англ. _**c**o**p**y_ — «копировать»). В простом виде `cp` принимает два параметра: `что копируем` и `куда копируем`.

```
$ cp что_копируем куда_копируем

$ cp index.html src/
# скопировали index.html в папку src 
```

Но можно указать сразу несколько файлов.

```
$ cp что_копируем что_копируем что_копируем куда_копируем

$ cp index.html style.css script.js src/
# скопировали три файла (index.html, style.css и script.js) в папку src 
```

Откройте консоль и создайте папку `first-project` где угодно на компьютере. Внутри папки создайте два файла: `data.txt` и `table.csv`.

```
$ mkdir first-project   
$ touch first-project/data.txt first-project/table.csv 
```

Эта запись равноценна поочерёдному вызову следующих команд.

```
$ mkdir first-project  
# создали папку

$ touch first-project/data.txt
# создали первый файл

$ touch first-project/table.csv
# создали второй файл 
```

Теперь скопируйте файл `data.txt` в домашнюю директорию.

```
$ cd first-project  
# перешли в директорию

$ cp data.txt ~
# скопировали файл в домашнюю директорию 
```

Перейдите в домашнюю директорию `~` и посмотрите её содержимое.

```
$ cd ~ # перешли в домашнюю директорию

$ pwd # посмотрели, где мы
/Users/%USER_NAME%

$ ls # файл скопирован, ура!
data.txt
<...> 
```

### Перемещение файлов и папок — `mv`

Копирование создаёт копию файла или папки. Но иногда вместо копии нужно удалить файл в одном месте и создать в другом. Для этого есть команда `mv` (от англ. _**m**o**v**e_ — «переместить»).

Синтаксис команды `mv` аналогичен синтаксису `cp`. После имени команды указывают список файлов и папок, которые нужно переместить, а затем — папку, в которую нужно выполнить перемещение.

Создайте папку `very-important-files` внутри директории `first-project`. Перейдите в `first-project` командой `cd`.

Затем переместите файл `table.csv` в папку `very-important-files` и проверьте результат.

```
$ mv table.csv ./very-important-files
# сначала указываем имя файла, который хотим переместить, потом путь — куда перемещаем 

$ cd very-important-files
$ ls
table.csv 
# перешли в папку very-important-files и проверили, что всё сработало 
```

# Операции с папками и файлами: чтение и удаление

### Чтение файлов — `cat`

Чтобы прочитать файл, в консоль нужно ввести `cat` (от англ. c_on**cat**enate and print_ — «объединить и распечатать») вместе с именем файла. Команда распечатает то, что содержится в нём.

```
$ cat myfile.txt # распечатали содержимое файла myfile.txt
file-content-1
file-content-2 
```

Команда `cat` работает только с текстовыми файлами. Вывести этой командой файл другого типа (например, изображение) не получится.

### Удаление файлов и папок — `rm`, `rmdir`, `rm -r`

Чтобы удалить файл, нужно напечатать команду `rm` (от англ. _**r**e**m**ove —_ «удалить») и передать ей имя файла.

```
$ rm example.txt # удалили файл example.txt из текущей папки 
```

Удалить папку можно командой `rmdir` (от англ. _**r**e**m**ove **dir**ectory —_ «удалить директорию»). Не забудьте указать имя папки.

```
$ rmdir images # команда удалит папку images из текущей директории, 
               # если папка images пуста 
```

Если в папке, которую вы пытаетесь стереть, есть какие-то файлы, то командная строка не удалит её и выведет сообщение о том, что папка не пуста (англ. `Directory not empty`).

![[Directory not empty.png]]

Это защита от случайного удаления нужных файлов. Если папку всё-таки нужно удалить вместе со всем её содержимым, можно использовать команду `rm` так.

```
$ rm -r images # удалили папку images со всем её содержимым из текущей директории 
```

В этом случае команда `rm -r` (`-r` — от англ. _**r**ecursive_, «рекурсивный») **рекурсивно** удаляет файлы и папки. Это значит, что удаление будет последовательно применяться к каждому из элементов в этой папке — пока не сотрёт их все. Затем команда удалит пустую директорию.

Например, есть папка `"ФОТО"`, внутри которой — файлы и папка `"Фотографии с дня рождения"`. Если вызвать команду `rm -r` для `"ФОТО"`, то сначала будут удалены все файлы и папки внутри неё (в том числе папка `"Фотографии с дня рождения"`), а после — сама директория `"ФОТО"`.

>[!info] Будьте осторожны: удаление объектов командами `rm` и `rmdir` необратимо — в этом случае файлы и папки не попадают в корзину и исчезают навсегда.

# Эффективная работа с командной строкой

### Выполняйте сразу несколько команд

Команды в терминале необязательно вбивать и выполнять по очереди. Их можно указывать не по одной, а сразу списком. Для этого их нужно разделить двумя амперсандами (`&&`).

```
$ mkdir second-project && cd second-project && touch index.html style.css
# создаём папку second-project,
# переходим в папку second-project
# и создаём в ней два файла: index.html и style.css 
```

Это особенно удобно, когда нужно часто выполнять одну и ту же последовательность команд.
### Вызывайте команды из буфера

Допустим, вчера вы создали пять новых файлов, а сегодня решили добавить к ним ещё один, но не можете вспомнить название нужной команды. На этот случай у терминала есть собственная память. Она называется **буфером** (от англ. _buffer_ — «посредник»). В буфере хранятся все команды, которые вызывались до этого. По их списку можно перемещаться.

Чтобы обратиться к последней введённой команде, нажмите на клавиатуре стрелку вверх (**`↑`**). Если нажать ещё раз, появится предпоследняя команда; ещё раз — предпредпоследняя; и так далее. Чтобы вернуться — например, от предпоследней команды к последней, — нажмите стрелку вниз (**`↓`**).
### Используйте автозаполнение

Необязательно заучивать все команды наизусть. Если нужно найти какую-нибудь из них, достаточно вспомнить, с каких букв она начинается. Можно набрать их в командной строке и дважды нажать клавишу `Tab`. Терминал покажет список всех команд, которые начинаются с этих символов.

`Tab` автоматически дописывает не только команды, но и пути. Начните печатать имя папки или файла (они должны быть в той же директории) и нажмите `Tab`. Терминал заполнит имя автоматически.

Если этого не происходит, значит, есть несколько файлов или папок, которые начинаются так же. Нажмите `Tab` ещё раз, и вы увидите их список. Терминал не знает, как ему дозаполнить такой ввод и что именно выбрать, поэтому показывает все варианты, чтобы вы могли уточнить запрос.

Рассмотрим пример. Перейдём в домашнюю директорию `/Users/Username` с помощью автозаполнения `Tab`.

```
$ cd /Users/ # перешли в папку Users

$ cd U[Tab] # ввели первую букву имени пользователя и нажали Tab
# имя папки Username подставится автоматически

$ pwd # теперь проверим, где мы сейчас находимся 
/Users/Username # мы в папке Username! 
```

Вместо того чтобы печатать полное имя папки — `Username`, мы набрали только его первую букву — `U`, нажали клавишу `Tab`, и консоль допечатала всё за нас.

Есть ещё один способ использовать `Tab` при навигации в другую директорию. Если ввести `cd` с названием папки, а затем нажать `Tab`, в консоль в качестве подсказки выведутся все возможные пути.

```
$ cd ~/[Tab] # вывели список директорий, чтобы понять, куда переходить
Applications/  Downloads/     Library/       Parallels/     Public/        diagrams/      memes/         python/
Desktop/       Dropbox/       Movies/        Pictures/      bin/           docs/          papers/        tmp/
Documents/     Exercism/      Music/         Postman/       books/         go/            projects/ 
```

Если вывод будет слишком большой, консоль спросит, нужно ли показать все возможные варианты.

```
$ cd ~/[Tab] 
zsh: do you wish to see all 426 possibilities (429 lines)? # точно хотите увидеть все 426 варианта (429 линий)? 
```

Чтобы подтвердить вывод, нужно нажать `y`, а чтобы отменить автодополнение — `n`.

### Применяйте команды для быстрой навигации

Напомним основные:

- `pwd` — проверить, где мы находимся;
- `ls` — посмотреть список файлов/папок в директории;
- `cd` — перейти в выбранную папку.

С помощью этих команд можно быстро перемещаться между каталогами и изучать их содержимое.

А ещё можно почти мгновенно перемещаться в ключевые папки. Допустим, вы хотите увидеть содержимое **корневой директории** (англ. _root directory_). Это верхняя в иерархии папка, в которой хранится всё, что есть на вашем жёстком диске. Дальнейшие действия зависят от типа операционной системы. Чтобы сделать это на macOS или Linux, напечатайте в командной строке слеш (`/`) и дважды нажмите `Tab`.

```
/
Applications/            Network/                 Library/                   
System/                  Volumes/                 Users/

# содержимое корневой директории macOS 
```

Готово! В терминале напечаталось содержимое корневой директории.

В эту директорию тоже можно быстро перемещаться — с помощью команды `cd /` + `Enter` (если у вас macOS или Linux).

```
$ cd / # перемещает в корневую директорию 
```

Чтобы попасть в корневую директорию Windows, нужно перейти на соответствующий диск. Например, `cd c:/` + `Enter` или `cd /c` + `Enter`.

```
$ cd c:/ # переместились в корневую директорию
$ ls
Documents and Settings/     Windows/
Program Files/              Users/
Program Files (x86)/

# содержимое корневой директории Windows 
```

>💡 **Почему эти действия так различаются для Windows и для macOS и Linux?**
 macOS и Linux основаны на операционной системе UNIX. А Windows — отдельная ОС. Поэтому последовательности команд для выполнения одних и тех же действий в этих операционных системах могут различаться.

В домашнюю директорию можно попасть так же быстро. Символ «тильда» (`~`) по умолчанию хранит ссылку на домашнюю директорию. Поэтому, чтобы переместиться в неё, достаточно напечатать `~` и нажать `Enter`.

```
$ cd ~
$ pwd 
/Users/Username

$ cd ~/Documents # папка Documents хранится в домашней директории
$ pwd
/Users/Username/Documents 
```